//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ../../shim/iterator ../../shim/Promise ../../shim/Symbol".split(" "),a)})(function(a,f){function l(g){var m=[];if(n.isArrayLike(g))for(var b=0;b<g.length;b++){var c=g[b];m.push(c instanceof h?c._promise:c)}else try{for(var b=p.__values(g),d=b.next();!d.done;d=b.next())c=d.value,m.push(c instanceof h?c._promise:
c)}catch(q){a={error:q}}finally{try{d&&!d.done&&(e=b.return)&&e.call(b)}finally{if(a)throw a.error;}}return m;var a,e}Object.defineProperty(f,"__esModule",{value:!0});var p=a("tslib"),n=a("../../shim/iterator"),k=a("../../shim/Promise");a("../../shim/Symbol");f.unwrapPromises=l;var h=function(){function a(a){this._promise=new k.default(a)}a.reject=function(a){return new this(function(b,c){return c(a)})};a.resolve=function(a){return new this(function(b,c){return b(a)})};a.all=function(a){if(!n.isArrayLike(a)&&
!n.isIterable(a)){var b=Object.keys(a);return new this(function(c,d){k.default.all(b.map(function(b){return a[b]})).then(function(a){var d={};a.forEach(function(a,c){d[b[c]]=a});c(d)},d)})}return new this(function(b,d){k.default.all(l(a)).then(b,d)})};a.race=function(a){return new this(function(b,c){k.default.race(l(a)).then(b,c)})};a.prototype.catch=function(a){return this.then(void 0,a)};a.prototype.then=function(a,b){var c=this;return new this.constructor(function(d,f){function e(c,e){var g=c?
b:a;if("function"===typeof g)try{d(g(e))}catch(r){f(r)}else c?f(e):d(e)}c._promise.then(e.bind(null,!1),e.bind(null,!0))})};return a}();f.ExtensiblePromise=h;f.default=h});