//>>built
(function(d){"object"===typeof module&&"object"===typeof module.exports?(d=d(require,exports),void 0!==d&&(module.exports=d)):"function"===typeof define&&define.amd&&define("require exports tslib ../widget-core/WidgetBase ../widget-core/d ../widget-core/decorators/inject ../widget-core/decorators/alwaysRender".split(" "),d)})(function(d,b){function e(a){return!(!a||"string"!==typeof a&&"function"!==typeof a&&"symbol"!==typeof a)}function h(a,d){return{router:a}}Object.defineProperty(b,"__esModule",
{value:!0});var k=d("tslib"),t=d("../widget-core/WidgetBase"),l=d("../widget-core/d"),u=d("../widget-core/decorators/inject"),v=d("../widget-core/decorators/alwaysRender");b.isComponent=e;b.getProperties=h;b.Outlet=function(a,d,b){void 0===b&&(b={});var m=e(a)?void 0:a.index,p=e(a)?a:a.main,q=e(a)?void 0:a.error,r=b.mapParams;a=b.key;var w=void 0===a?"router":a;return function(a){function b(){var f=null!==a&&a.apply(this,arguments)||this;f._matched=!1;f._matchedParams={};return f}k.__extends(b,a);
b.prototype._hasRouteChanged=function(a){if(!this._matched)return!0;for(var f=Object.keys(a),c=0;c<f.length;c++){var b=f[c];if(this._matchedParams[b]!==a[b])return!0}return!1};b.prototype._onEnter=function(a,b){var c=a.params;a=a.type;this._hasRouteChanged(c)&&(b&&b(c,a),this._matched=!0,this._matchedParams=c)};b.prototype.onDetach=function(){this._matched&&(this._onExit&&this._onExit(),this._matched=!1)};b.prototype.render=function(){var a=this.properties,b=a.router,a=k.__rest(a,["router"]),c=b.getOutlet(d);
if(c){var e=c.queryParams,h=c.params,g=c.type,n=c.onEnter;this._onExit=c.onExit;r&&(a=k.__assign({},a,r({queryParams:e,params:h,type:g,router:b})));if("index"===g&&m)return this._onEnter(c,n),l.w(m,a,this.children);if("error"===g&&q)return this._onEnter(c,n),l.w(q,a,this.children);if("error"===g&&m)return this._onEnter(c,n),l.w(m,a,this.children);if("error"!==g&&p)return this._onEnter(c,n),l.w(p,a,this.children)}this._matched&&(this._onExit&&this._onExit(),this._matched=!1);return null};return b=
k.__decorate([u.inject({name:w,getProperties:h}),v.alwaysRender()],b)}(t.WidgetBase)}});